(()=>{"use strict";var e={17:()=>{var e=document.querySelector(".app");window.application={blocks:{},screens:{},currentDifficulty:"easy",currentRound:[],renderScreen:function(n){e&&(e.textContent="",window.application.timers.forEach((function(e){console.log(e),clearInterval(e)})),window.application.currentScreen=n,window.application.screens[n]())},renderBlock:function(e,n){return window.application.blocks[e](n)},timers:[]}}},n={};function a(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,a),o.exports}a.p="",(()=>{a(17);const e=a.p+"/images/spades10.png",n=a.p+"/images/spades9.png",t=a.p+"/images/spades8.png",i=a.p+"/images/spades7.png",o=a.p+"/images/spades6.png",r=a.p+"/images/spadesA.png",c=a.p+"/images/spadesK.png",p=a.p+"/images/spadesQ.png",l=a.p+"/images/spadesJ.png",d=a.p+"/images/hearts10.png",s=a.p+"/images/hearts9.png",u=a.p+"/images/hearts8.png",m=a.p+"/images/hearts7.png",g=a.p+"/images/hearts6.png",w=a.p+"/images/heartsA.png",f=a.p+"/images/heartsK.png",v=a.p+"/images/heartsQ.png",h=a.p+"/images/heartsJ.png",_=a.p+"/images/diamonds10.png",b=a.p+"/images/diamonds9.png",y=a.p+"/images/diamonds8.png",k=a.p+"/images/diamonds7.png",L=a.p+"/images/diamonds6.png",S=a.p+"/images/diamondsA.png",B=a.p+"/images/diamondsK.png",T=a.p+"/images/diamondsQ.png",G=a.p+"/images/diamondsJ.png",I=a.p+"/images/clubs10.png",q=a.p+"/images/clubs9.png",R=a.p+"/images/clubs8.png",C=a.p+"/images/clubs7.png",x=a.p+"/images/clubs6.png",E=a.p+"/images/clubsA.png",A=a.p+"/images/clubsK.png",M=a.p+"/images/clubsQ.png",D=a.p+"/images/clubsJ.png";var W=[a.p+"/images/back.png",e,n,t,i,o,l,p,c,r,_,b,y,k,L,G,T,B,S,d,s,u,m,g,h,v,f,w,I,q,R,C,x,D,M,A,E];document.querySelector(".app");const J=a.p+"/images/winImage.png",K=a.p+"/images/loseImage.png";var Q=document.querySelector(".app"),H=window.application.blocks,j=window.application.screens,z={suit:["spades","diamonds","diamonds","hearts"],rank:["A","K","Q","J",10,9,8,7,6]},F=function(){window.application.renderScreen("difficultyLevel")},N=function(){for(var e=[],n=window.application.currentDifficulty[window.application.currentDifficulty.length-1],a=0;a<n;a++){var t=z.suit[Math.floor(Math.random()*z.suit.length)],i=String(z.rank[Math.floor(Math.random()*z.rank.length)]);e.includes(t+i)?a--:e.push(t+i)}return(e=e.concat(e)).sort((function(){return Math.random()-.5}))},O=function(){window.application.timers.forEach((function(e){clearInterval(e)}))},P=function(e,n,a,t,i){var o=document.createElement(e);return o.classList.add("app__".concat(n)),o.textContent=a,"button"!==e&&"back"!==n&&"front"!==n||o.addEventListener("click",i),t.appendChild(o),o},U=function(e){var n=e.target;window.application.currentDifficulty=null==n?void 0:n.dataset.value},V=function(){window.application.renderScreen("game");var e=document.querySelector(".app__wall");null==e||e.classList.add("app__wall_non-active"),clearInterval(window.application.hideCardsTimer),window.application.hideCardsTimer,Q&&(window.application.hideCardsTimer=setTimeout((function(){var e,n=Date.now();e=function(){return function(e){var n=Math.floor((Date.now()-e)/1e3),a=n%60<10?"0".concat(n%60):n%60,t=Math.floor(n/60)<10?"0".concat(Math.floor(n/60)):Math.floor(n/60),i="".concat(t,".").concat(a),o=document.querySelector(".app__timer_value");o&&(o.textContent=i,window.application.currentTime=i)}(n)},window.application.timers.push(setInterval((function(){e()}),1e3)),Q.querySelectorAll(".app__card").forEach((function(e){e.classList.add("transform")}))}),5e3))},X=function(){Z("win");var e=document.querySelector(".app__endGameImageWin");e&&(e.src=J);var n=document.querySelector(".app__wall");null==n||n.classList.remove("app__wall_non-active")},Y=function(){if(Q){Z("lose");var e=document.querySelector(".app__endGameImageLose");e&&(e.src=K),Q.querySelectorAll(".transform").forEach((function(e){return e.classList.remove("transform")}));var n=document.querySelector(".app__wall");null==n||n.classList.remove("app__wall_non-active")}},Z=function(e){var n=document.querySelector(".app__wall");null==n||n.classList.remove("app_wall_non-active");var a=window.application.renderBlock("popup",n);"win"===e?(window.application.renderBlock("endGameImageWin",a),window.application.renderBlock("endGameTitleWin",a)):"lose"===e&&(window.application.renderBlock("endGameImageLose",a),window.application.renderBlock("endGameTitleLose",a)),window.application.renderBlock("endGameText",a),window.application.renderBlock("endGameTimer",a),window.application.renderBlock("endGameRestartButton",a)};H.popup=function(e){return P("div","popup","",e)},H.wall=function(e){P("div","wall","",e)},H.endGameTitleLose=function(e){P("h1","endGameTitleLose","Вы проиграли!",e)},H.endGameTitleWin=function(e){P("h1","endGameTitleWin","Вы выиграли!",e)},H.endGameImageLose=function(e){P("img","endGameImageLose","",e)},H.endGameImageWin=function(e){P("img","endGameImageWin","",e)},H.endGameRestartButton=function(e){return P("button","button_start","Играть снова",e,F)},H.endGameText=function(e){P("p","endGameText","Затраченное время:",e)},H.endGameTimer=function(e){P("p","endGameTimer",window.application.currentTime,e)},H.difficultyLevelTitle=function(e){return P("h1","difficultyLevelTitle","Выбери сложность",e)},H.difficultyLeveChoiceButtons=function(e){var n=P("div","buttons","",e);if(n){n.addEventListener("click",(function(e){var n,a=e.target;if(a.classList.contains("app__button_choice")){var t=null===(n=a.parentElement)||void 0===n?void 0:n.querySelectorAll("button");null==t||t.forEach((function(e){e.classList.remove("app__button_choice_active")})),a.classList.add("app__button_choice_active")}}));var a=P("button","button_choice","1",n,U),t=P("button","button_choice","2",n,U),i=P("button","button_choice","3",n,U);a.dataset.value="easy-3",t.dataset.value="average-6",i.dataset.value="hard-9"}},H.difficultyLevelStartButton=function(e){return P("button","button_start","Старт",e,V)},H.restartButton=function(e){return P("button","button_start","Начать заново",e,F)},H.gameScreenTimer=function(e){var n=P("div","timer","",e),a=P("div","timer-header","",n);P("div","timer_min","min",a),P("div","timer_sec","sec",a),P("div","timer_value","00.00",n)},H.gameScreenHeader=function(e){return P("div","header","",e)},H.gameScreenCards=function(e){for(var n=P("div","cards","",e),a=N(),t=2*window.application.currentDifficulty[window.application.currentDifficulty.length-1],i=function(e){var t=P("div","card","",n);P("div","front","",t).style.backgroundImage="url(../images/".concat(a[e],".png)"),P("div","back","",t,(function(n){return function(e,n){var a;null===(a=e.target.parentElement)||void 0===a||a.classList.remove("transform"),window.application.currentRound.push(n),function(){if(!(window.application.currentRound.length<2)){if(window.application.currentRound[0]!==window.application.currentRound[1])window.application.currentRoundResult="lose",O(),Y();else{if(!Q)return;0===Q.querySelectorAll(".transform").length&&(O(),window.application.currentRoundResult="win",setTimeout((function(){X()}),500))}window.application.currentRound=[]}}()}(n,a[e])})).style.backgroundImage="url(".concat(W[0],")")},o=0;o<t;o++)i(o)},j.difficultyLevel=function(){var e=window.application.renderBlock("popup",Q);window.application.renderBlock("difficultyLevelTitle",e),window.application.renderBlock("difficultyLeveChoiceButtons",e),window.application.renderBlock("difficultyLevelStartButton",e)},j.game=function(){var e=window.application.renderBlock("gameScreenHeader",Q);window.application.renderBlock("gameScreenTimer",e),window.application.renderBlock("restartButton",e),window.application.renderBlock("gameScreenCards",Q),window.application.renderBlock("wall",Q)},j.endGame=Z,window.application.renderScreen("difficultyLevel")})()})();